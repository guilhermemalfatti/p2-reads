(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(289)},115:function(e,t,a){},117:function(e,t,a){},193:function(e,t,a){},196:function(e,t,a){},198:function(e,t,a){},204:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},287:function(e,t){},288:function(e,t){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=(a(115),a(10)),s=a(11),l=a(13),m=a(12),u=a(14),d=(a(117),a(25)),p=a.n(d),h=a(24),E=Object(h.createActions)({addPost:["post"],editPost:["postId"],deletePost:["postId"],upVote:["postId"],downVote:["postId"],getPost:["post"],addCommet:["commet"],editCommet:["commetId"],deleteCommmet:["commetId"],initialData:["posts","filter"],requestData:null,dataReceived:null,receiveCategories:["categories"],selectCategory:["category"],sortPost:["term"],updateList:["posts"]}),f=E.Types,g=E.Creators,v={READABLE_STARTER:Object({NODE_ENV:"production",PUBLIC_URL:"/p2-reads"}).DOMAIN||"https://udacity-reads.herokuapp.com"},b=localStorage.token;b||(b=localStorage.token=Math.random().toString(36).substr(-8));var O=b,j={headers:{Authorization:O}};var y=a(16),N=a(290);var w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).filter=function(e){var t,n=a.props.originalPosts,r=a.props.dispatch;"all"!==e&&e?(t=n.filter(function(t){return t.category===e}),r(g.updateList(t))):r(g.updateList(n)),r(g.selectCategory(e))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.originalPosts,n=this.props.match.params.category;0==a.length&&t(function(e){return function(t){return p.a.get(v.READABLE_STARTER+"/posts",{headers:{Authorization:O}}).then(function(a){t(g.initialData(a.data,e))}).catch(function(e){console.error("Error on getting the data "+e)})}}(n)),t(function(e){return p.a.get(v.READABLE_STARTER+"/categories",j).then(function(t){e(g.receiveCategories(t.data.categories))}).catch(function(e){return alert("There was an error on getCategories, the data is inconsistent, refresh the page and try again"+e)})})}},{key:"render",value:function(){var e=this,t=this.props.categories,a=this.props.match.params.category;return r.a.createElement("div",{id:"categories-list",className:"carousel slide","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-wrapper"},r.a.createElement("h2",null,"Categories"),r.a.createElement("ol",{className:"carousel-indicators"},void 0==a?r.a.createElement("span",{className:"active"}," All "):r.a.createElement(N.a,{to:"/"},r.a.createElement("span",{onClick:function(){e.filter("all")}}," All ")),t&&t.map(function(t){return a===t.path?r.a.createElement(N.a,{to:t.path},r.a.createElement("span",{className:"active",onClick:function(){e.filter(t.path)}}," ",t.name," ")):r.a.createElement(N.a,{to:t.path},r.a.createElement("span",{onClick:function(){e.filter(t.path)}}," ",t.name," "))}))))}}]),t}(n.Component),C=Object(y.b)(function(e){return{categories:e.categories.items,originalPosts:e.posts.originalList}})(w),A=(a(193),a(196),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loader"})}}]),t}(n.Component)),D=(a(198),a(48)),T=a.n(D),S=function(e){return T()(e).format("YY/MM/DD HH:mm:ss")};function L(e){return r.a.createElement(r.a.Fragment,null,e.items&&e.items.map(function(t){return r.a.createElement("div",{className:"question","data-color":e.color(t.voteScore)},r.a.createElement("div",{className:"votes"},r.a.createElement("div",{className:"upvote",onClick:function(){return e.vote(t.id,"upVote")}}),r.a.createElement("div",{className:"number-of-votes"},t.voteScore),r.a.createElement("div",{className:"downvote",onClick:function(){return e.vote(t.id,"downVote")}})),r.a.createElement("div",{className:"question-and-answer"},r.a.createElement(N.a,{to:"/p2-reads/"+t.category+"/"+t.id},r.a.createElement("h2",null,t.title)),r.a.createElement("p",{className:"author"},t.author," - ",S(t.timestamp)),r.a.createElement("p",null,t.body)),r.a.createElement("div",{className:"social"},r.a.createElement("div",{className:"post-comments"},t.commentCount)))}))}var k=a(201),R={headers:{Authorization:O}};var _,P,I,V=a(28),B=(a(204),a(37)),H=a.n(B),x=a(105),M=a.n(x),F=a(293),Y=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e,a))).handleSubmit=function(e){var t=n.props,a=t.dispatch,r=t.history;e.preventDefault(),a(function(e,t){return e.id=k(),e.timestamp=(new Date).getTime(),function(a){return a(g.requestData()),p.a.post(v.READABLE_STARTER+"/posts",e,R).then(function(e){a(g.addPost(e.data)),a(g.dataReceived()),t.push("/"+e.data.category+"/"+e.data.id)}).catch(function(e){return alert("There was an error on create a post, refresh and try again."+e)})}}(M()(e.target,{hash:!0}),r))},n.handleShow=n.handleShow.bind(Object(V.a)(Object(V.a)(n))),n.handleHide=n.handleHide.bind(Object(V.a)(Object(V.a)(n))),n.state={show:!1,showAlert:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"render",value:function(){var e=this.props.categories;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.handleShow},"ADD"),r.a.createElement(H.a,Object.assign({},this.props,{show:this.state.show,onHide:this.handleHide,dialogClassName:"custom-modal"}),r.a.createElement(H.a.Header,{closeButton:!0},r.a.createElement(H.a.Title,{id:"contained-modal-title-lg"},"New post")),r.a.createElement(H.a.Body,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"create-contact-details"},r.a.createElement("input",{type:"text",name:"title",placeholder:"Title"}),r.a.createElement("textarea",{type:"text",name:"body",placeholder:"Body"}),r.a.createElement("input",{className:"author",type:"text",name:"author",placeholder:"Author"}),r.a.createElement("select",{name:"category"},r.a.createElement("option",null,"Category"),e&&e.map(function(e){return r.a.createElement("option",{value:e.name},e.name)})),r.a.createElement("button",{type:"submit"},"Add Post"),"\xa0",r.a.createElement("button",{type:"reset",onClick:this.handleHide},"Cancel"))))))}}]),t}(n.Component),q=Object(F.a)(Object(y.b)(function(e){return{categories:e.categories.items}})(Y)),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sortByDesc:"Sort by",searchValue:""},a.selectFilter=function(e){a.setState(function(){return{sortByDesc:e}}),(0,a.props.dispatch)(g.sortPost(e))},a.voteItem=function(e,t){(0,a.props.dispatch)(function(e,t){return function(a){return a(g[t](e)),p.a.post(v.READABLE_STARTER+"/posts/"+e,{option:t},R).catch(function(e){return alert("There was an error, the data is inconsistent, refresh the page and try again"+e)})}}(e,t))},a.deleteitem=function(){},a.editItem=function(){},a.defineColor=function(e){return e>2?"green":e>=0&&e<=2?"yellow":"red"},a.filterList=function(e){var t=a.props.dispatch,n=a.props.originalPosts;a.setState({searchValue:e.target.value}),n=n.filter(function(t){return-1!==t.title.toLowerCase().search(e.target.value.toLowerCase())}),t(g.updateList(n))},a.resetFilter=function(){var e=a.props.dispatch;a.setState({searchValue:""}),e(g.updateList(a.props.originalPosts))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.sortByDesc,a=this.props,n=a.posts,o=a.isLoading;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"container"},r.a.createElement("div",{className:"search-area"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("i",{className:"fa fa-search"}),r.a.createElement("input",{value:this.state.searchValue,type:"text",onChange:this.filterList,placeholder:"Have a question? Search for post by keywords"})),r.a.createElement("button",{onClick:this.resetFilter},"Reset"),r.a.createElement(q,null),r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"dropbtn"},t,r.a.createElement("span",{className:"caret"})),r.a.createElement("div",{className:"dropdown-content"},r.a.createElement("a",{href:"#",onClick:function(){return e.selectFilter("Date")}},"Date"),r.a.createElement("a",{href:"#",onClick:function(){return e.selectFilter("Vote")}},"Vote")))),1==o?r.a.createElement(A,null):r.a.createElement(L,{items:n,edit:this.editItem,delete:this.deleteitem,vote:this.voteItem,color:this.defineColor})))}}]),t}(n.Component),z=Object(y.b)(function(e){return{posts:e.posts.items,originalPosts:e.posts.originalList,isLoading:e.loading.isLoading}})(U),G=(a(283),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).postDate=function(e){return T()(e).format("YY/MM/DD HH:mm:ss")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.match.params.post_id,a=this.props.dispatch;a(g.requestData()),a((e=t,function(t){return p.a.get(v.READABLE_STARTER+"/posts/"+e,R).then(function(e){t(g.getPost(e.data))}).catch(function(e){return alert("There was an error in getPost(), the data is inconsistent, refresh the page and try again"+e)})}))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.post;return 1==t?r.a.createElement(A,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("div",{id:"post"},r.a.createElement("header",null,r.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/flat-business-icons/128/user-64.png",alt:""}),r.a.createElement("p",null,r.a.createElement("a",{className:"name"},a.author)," wrote a post to the category ",r.a.createElement("a",null,a.category),".",r.a.createElement("span",null,this.postDate(a.timestamp))),r.a.createElement("div",{className:"option"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#edit"},"Edit")),r.a.createElement("li",null,r.a.createElement("a",{href:"#delete"},"Delete"))))),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,a.body),r.a.createElement("div",{id:"social"},r.a.createElement("div",{className:"post-comments"},a.commentCount))),r.a.createElement("div",{className:"hide-comments"},r.a.createElement("input",{type:"checkbox",value:"",id:"hide-button",name:"check",checked:!0}),r.a.createElement("label",{for:"hide-button",className:"button"},"Hide Comments"),r.a.createElement("input",{type:"checkbox",value:"",id:"new-comment",name:"check",checked:!0}),r.a.createElement("label",{for:"new-comment",className:"button"},"New Comment")),r.a.createElement("div",{className:"comments"},r.a.createElement("ul",null,r.a.createElement("li",{key:"1"},r.a.createElement("div",{className:"user-comment"},r.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/flat-business-icons/128/user-32.png",alt:""}),r.a.createElement("header",null,r.a.createElement("a",{href:"#",className:"name"},"Josephine Bowler"),r.a.createElement("span",null,"20.02.2015 @ 09:01")),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"This picture is absolutely amazing! You are such a good photographer :)")),r.a.createElement("a",{href:"",className:"edit"},"edit"),r.a.createElement("a",{href:"",className:"delete"},"delete"))),r.a.createElement("li",{key:"2"},r.a.createElement("div",{className:"user-comment"},r.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/flat-business-icons/128/user-32.png",alt:""}),r.a.createElement("header",null,r.a.createElement("a",{href:"#",className:"name"},"Jennifer Lee"),r.a.createElement("span",null,"21.02.2015 @ 14:00")),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Wow!!! Cool shot, Daniel! You should post more often =)")),r.a.createElement("a",{href:"",className:"edit"},"Edit"),r.a.createElement("a",{href:"",className:"delete"},"Delete"))))))))}}]),t}(n.Component)),J=Object(y.b)(function(e){return{isLoading:e.loading.isLoading,post:e.posts.selectedPost||{}}})(G),W=a(291),X=(a(285),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N.a,{to:"//github.com/guilhermemalfatti",className:"float-github"},r.a.createElement("i",{class:"fa fa-github"})),r.a.createElement(N.a,{to:"//www.linkedin.com/in/guilherme-malfatti-b2683966",className:"float-linkedin"},r.a.createElement("i",{class:"fa fa-linkedin"})),r.a.createElement(N.a,{to:"/p2-reads/",className:"float-home"},r.a.createElement("i",{class:"fa fa-home"})),r.a.createElement(W.a,{path:"/p2-reads/:category",component:C}),r.a.createElement(W.a,{exact:!0,path:"/p2-reads/",component:C}),r.a.createElement(W.a,{path:"/p2-reads/:category/:post_id",component:J}),r.a.createElement(W.a,{exact:!0,path:"/p2-reads/",component:z}),r.a.createElement(W.a,{exact:!0,path:"/p2-reads/:category",component:z}))}}]),t}(n.Component)),Q=a(292),K=a(20),Z=(a(287),a(4)),$=a(8),ee={isLoading:!0},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;arguments.length>1&&arguments[1];return Object($.a)({},e,{isLoading:!1})},ae=(_={},Object(Z.a)(_,f.INITIAL_DATA,te),Object(Z.a)(_,f.REQUEST_DATA,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee;arguments.length>1&&arguments[1];return Object($.a)({},e,{isLoading:!0})}),Object(Z.a)(_,f.GET_POST,te),Object(Z.a)(_,f.DATA_RECEIVED,te),_),ne=Object(h.createReducer)(ee,ae),re={categories:[],selectedCategory:"all"},oe=(P={},Object(Z.a)(P,f.RECEIVE_CATEGORIES,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:t.categories})}),Object(Z.a)(P,f.SELECT_CATEGORY,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{selectedCategory:t.category})}),P),ce=Object(h.createReducer)(re,oe),ie={items:[],originalList:[],selectedPost:null},se=(I={},Object(Z.a)(I,f.ADD_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:e.items.concat(t.post),originalList:e.originalList.concat(t.post)})}),Object(Z.a)(I,f.INITIAL_DATA,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:t.filter?t.posts.filter(function(e){return e.category===t.filter}):t.posts,originalList:t.posts})}),Object(Z.a)(I,f.DOWN_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:e.items.map(function(e){return e.id==t.postId&&(e.voteScore-=1),e})})}),Object(Z.a)(I,f.UP_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:e.items.map(function(e){return e.id==t.postId&&(e.voteScore+=1),e})})}),Object(Z.a)(I,f.SORT_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return"Date"===(arguments.length>1?arguments[1]:void 0).term?Object($.a)({},e,{items:[].concat(e.items).sort(function(e,t){return e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:0})}):Object($.a)({},e,{items:[].concat(e.items).sort(function(e,t){return e.voteScore<t.voteScore?1:e.voteScore>t.voteScore?-1:0})})}),Object(Z.a)(I,f.UPDATE_LIST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{items:t.posts})}),Object(Z.a)(I,f.GET_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return Object($.a)({},e,{selectedPost:t.post})}),I),le=Object(h.createReducer)(ie,se),me=Object(K.c)({categories:ce,loading:ne,posts:le}),ue=(a(288),a(108)),de=a(109),pe=a.n(de),he=Object(K.a)(ue.a,pe.a),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,fe=Object(K.e)(me,Ee(he));c.a.render(r.a.createElement(y.a,{store:fe},r.a.createElement(Q.a,null,r.a.createElement(X,null))),document.getElementById("root"))}},[[110,2,1]]]);
//# sourceMappingURL=main.69c500d8.chunk.js.map