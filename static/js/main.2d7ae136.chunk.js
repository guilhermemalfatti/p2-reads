(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a(293)},121:function(e,t,a){},123:function(e,t,a){},199:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},209:function(e,t,a){},286:function(e,t,a){},289:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(21),r=a.n(i),c=(a(121),a(11)),s=a(12),l=a(14),m=a(13),u=a(15),d=(a(123),a(8)),h=a.n(d),p=a(19),E=Object(p.createActions)({addPost:["post"],editPost:["values","id"],deletePost:["postId"],upVote:["id"],downVote:["id"],voteSelectedPost:["vote"],selectPost:["post"],addComment:["comment"],editComment:["commentId","values"],deleteComment:["comment"],getComments:["comments"],initialData:["posts","filter"],requestData:null,dataReceived:null,receiveCategories:["categories"],selectCategory:["category"],sortPost:["term"],updateList:["posts"]}),v=E.Types,f=E.Creators,g={READABLE_STARTER:Object({NODE_ENV:"production",PUBLIC_URL:"/p2-reads"}).DOMAIN||"https://udacity-reads.herokuapp.com"},b=localStorage.token;b||(b=localStorage.token=Math.random().toString(36).substr(-8));var O=b,y={headers:{Authorization:O}};var C=a(17),j=a(294);var S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).filter=function(e){var t,n=a.props.originalPosts,o=a.props.dispatch;"all"!==e&&e?(t=n.filter(function(t){return t.category===e}),o(f.updateList(t))):o(f.updateList(n)),o(f.selectCategory(e))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.originalPosts,n=this.props.match.params.category;0===a.length&&t(function(e){return function(t){return h.a.get(g.READABLE_STARTER+"/posts",{headers:{Authorization:O}}).then(function(a){t(f.initialData(a.data,e))}).catch(function(e){console.error("Error on getting the data "+e)})}}(n)),t(function(e){return h.a.get(g.READABLE_STARTER+"/categories",y).then(function(t){e(f.receiveCategories(t.data.categories))}).catch(function(e){return alert("There was an error on getCategories, the data is inconsistent, refresh the page and try again"+e)})})}},{key:"render",value:function(){var e=this,t=this.props.categories,a=this.props.match.params.category;return o.a.createElement("div",{id:"categories-list",className:"carousel slide","data-ride":"carousel"},o.a.createElement("div",{className:"carousel-wrapper"},o.a.createElement("h2",null,"Categories"),o.a.createElement("ol",{className:"carousel-indicators"},void 0===a?o.a.createElement("span",{className:"active"}," All "):o.a.createElement(j.a,{to:"/"},o.a.createElement("span",{onClick:function(){e.filter("all")}}," All ")),t&&t.map(function(t){return a===t.path?o.a.createElement(j.a,{key:t.path,to:t.path},o.a.createElement("span",{className:"active",onClick:function(){e.filter(t.path)}}," ",t.name," ")):o.a.createElement(j.a,{key:t.path,to:t.path},o.a.createElement("span",{onClick:function(){e.filter(t.path)}}," ",t.name," "))}))))}}]),t}(n.Component),T=Object(C.b)(function(e){return{categories:e.categories.items,originalPosts:e.posts.originalList}})(S),A=(a(199),a(202),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loader"})}}]),t}(n.Component)),N=(a(204),a(49)),D=a.n(N),w=a(53),k=a.n(w),P=function(e){return D()(e).format("DD/MM/YY HH:mm:ss")};function _(e){return"post"===e.type?o.a.createElement(o.a.Fragment,null,e.items&&e.items.map(function(t){return o.a.createElement("div",{key:t.id,className:"question","data-color":e.color(t.voteScore)},o.a.createElement("div",{className:"votes"},o.a.createElement("div",{className:"upvote",onClick:function(){return e.vote(t.id,"upVote")}}),o.a.createElement("div",{className:"number-of-votes"},t.voteScore),o.a.createElement("div",{className:"downvote",onClick:function(){return e.vote(t.id,"downVote")}})),o.a.createElement("div",{className:"question-and-answer"},o.a.createElement(j.a,{to:"/p2-reads/"+t.category+"/"+t.id},o.a.createElement("h2",null,t.title)),o.a.createElement("p",{className:"author"},t.author," - ",P(t.timestamp)),o.a.createElement("p",null,t.body)),o.a.createElement("div",{className:"social"},o.a.createElement("div",{className:"post-comments"},t.commentCount)))})):o.a.createElement(o.a.Fragment,null,e.items&&e.items.map(function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("div",{className:"user-comment ".concat(t.voteScore>2?k.a.green:t.voteScore>=0&&t.voteScore<=2?k.a.yellow:k.a.red)},o.a.createElement("div",{className:"comment-votes"},o.a.createElement("div",{className:"upvote",onClick:function(){return e.vote(t.id,"upVote")}}),o.a.createElement("div",{className:"number-of-votes"},t.voteScore),o.a.createElement("div",{className:"downvote",onClick:function(){return e.vote(t.id,"downVote")}})),o.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/flat-business-icons/128/user-32.png",alt:""}),o.a.createElement("header",null,o.a.createElement("a",{className:"name"},t.author),o.a.createElement("span",null,P(t.timestamp))),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,t.body)),o.a.createElement("a",{className:"edit",onClick:function(){e.editComment(t)}},"edit"),o.a.createElement("a",{className:"delete",onClick:function(){e.onDeleteComment(t)}},"delete")))}),0===e.items.length&&o.a.createElement("p",null,"There is not comments, be the first to comment."))}var L=a(89),R={headers:{Authorization:O}};function B(e,t){return function(a){return a(f[t](e)),h.a.post(g.READABLE_STARTER+"/posts/"+e,{option:t},R).catch(function(e){return alert("There was an error, the data is inconsistent, refresh the page and try again. "+e)})}}var I=a(6),V=(a(209),a(38)),M=a.n(V),H=a(50),x=a.n(H),F=a(297),q=a(26),U=a.n(q),X=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e,a))).handleSubmit=function(e){var t=n.props,a=t.dispatch,o=t.history,i=t.editing,r=t.selectedPost;e.preventDefault();var c=x()(e.target,{hash:!0});i?(a(function(e,t,a){return function(a){a(f.editPost(e,t)),h.a.put(g.READABLE_STARTER+"/posts/"+t,e,R).catch(function(e){alert("There was an error on edit a post, the data is inconsistent, refresh and try again. "+e)})}}(c,r.id)),n.handleHide()):a(function(e,t){return e.id=L(),e.timestamp=(new Date).getTime(),function(a){return a(f.requestData()),h.a.post(g.READABLE_STARTER+"/posts",e,R).then(function(e){a(f.addPost(e.data)),a(f.dataReceived()),t.push("/"+e.data.category+"/"+e.data.id)}).catch(function(e){return alert("There was an error on create a post, the data is inconsistent, refresh and try again. "+e)})}}(c,o))},n.handleShow=n.handleShow.bind(Object(I.a)(Object(I.a)(n))),n.handleHide=n.handleHide.bind(Object(I.a)(Object(I.a)(n))),n.state={show:!1,showAlert:!1,title:e.post&&(e.post.title||"")||"",body:e.post&&(e.post.body||"")||"",author:e.post&&(e.post.author||"")||"",category:e.post&&(e.post.category||"")||""},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.showModal&&this.handleShow()}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value})}},{key:"handleAuthorChange",value:function(e){this.setState({author:e.target.value})}},{key:"handleCategoryChange",value:function(e){this.setState({category:e.target.value})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleHide",value:function(){var e=this.props.cancelEdit;this.setState({show:!1}),e&&e()}},{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.editing,i=this.state,r=i.title,c=i.body,s=i.author,l=i.category,m=U.a.isEmpty(r)||U.a.isEmpty(l)||U.a.isEmpty(c)||U.a.isEmpty(s);return o.a.createElement(o.a.Fragment,null,!0!==n&&o.a.createElement("button",{onClick:this.handleShow},"ADD"),o.a.createElement(M.a,{show:this.state.show,onHide:this.handleHide,dialogClassName:"custom-modal"},o.a.createElement(M.a.Header,{closeButton:!0},o.a.createElement(M.a.Title,{id:"contained-modal-title-lg"},!0===n?"Edit post":"New post")),o.a.createElement(M.a.Body,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"create-contact-details"},o.a.createElement("input",{type:"text",name:"title",placeholder:"Title",value:r,onChange:function(t){return e.handleTitleChange(t)}}),o.a.createElement("textarea",{type:"text",name:"body",placeholder:"Body",value:c,onChange:function(t){return e.handleBodyChange(t)}}),o.a.createElement("input",{className:"author",disabled:n,type:"text",name:"author",placeholder:"Author",value:s,onChange:function(t){return e.handleAuthorChange(t)}}),o.a.createElement("select",{disabled:n,name:"category",value:l,onChange:function(t){return e.handleCategoryChange(t)}},o.a.createElement("option",null,"Category"),a&&a.map(function(e){return o.a.createElement("option",{key:e.name,value:e.name},e.name)})),o.a.createElement("button",{type:"submit",disabled:m},"Submit Post"),"\xa0",o.a.createElement("button",{type:"reset",onClick:this.handleHide},"Cancel"))))))}}]),t}(n.Component),Y=Object(F.a)(Object(C.b)(function(e){return{categories:e.categories.items,selectedPost:e.posts.selectedPost||{}}})(X));function W(e){return e>2?"green":e>=0&&e<=2?"yellow":"red"}var z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={sortByDesc:"Sort by",searchValue:""},a.selectFilter=function(e){a.setState(function(){return{sortByDesc:e}}),(0,a.props.dispatch)(f.sortPost(e))},a.voteItem=function(e,t){(0,a.props.dispatch)(B(e,t))},a.filterList=function(e){var t=a.props.dispatch,n=a.props.originalPosts;a.setState({searchValue:e.target.value}),n=n.filter(function(t){return-1!==t.title.toLowerCase().search(e.target.value.toLowerCase())}),t(f.updateList(n))},a.resetFilter=function(){var e=a.props.dispatch;a.setState({searchValue:""}),e(f.updateList(a.props.originalPosts))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.sortByDesc,a=this.props,n=a.posts,i=a.isLoading;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{id:"container"},o.a.createElement("div",{className:"search-area"},o.a.createElement("div",{className:"input-wrapper"},o.a.createElement("i",{className:"fa fa-search"}),o.a.createElement("input",{value:this.state.searchValue,type:"text",onChange:this.filterList,placeholder:"Have a question? Search for post by keywords"})),o.a.createElement("button",{onClick:this.resetFilter},"Reset"),o.a.createElement(Y,{showModal:!1}),o.a.createElement("div",{className:"dropdown"},o.a.createElement("button",{className:"dropbtn"},t,o.a.createElement("span",{className:"caret"})),o.a.createElement("div",{className:"dropdown-content"},o.a.createElement("a",{href:"#",onClick:function(){return e.selectFilter("Date")}},"Date"),o.a.createElement("a",{href:"#",onClick:function(){return e.selectFilter("Vote")}},"Vote")))),!0===i?o.a.createElement(A,null):o.a.createElement(_,{items:n,type:"post",vote:this.voteItem,color:W})))}}]),t}(n.Component),G=Object(C.b)(function(e){return{posts:e.posts.items,originalPosts:e.posts.originalList,isLoading:e.loading.isLoading}})(z),K=(a(286),a(54)),Z=a.n(K),J={headers:{Authorization:O}};a(289);var Q,$,ee,te,ae=a(89),ne=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e,a))).state={body:e.comment&&(e.comment.body||"")||"",author:e.comment&&(e.comment.author||"")||""},n.handleSubmit=n.handleSubmit.bind(Object(I.a)(Object(I.a)(n))),n.clearForm=n.clearForm.bind(Object(I.a)(Object(I.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({body:e.comment&&(e.comment.body||"")||"",author:e.comment&&(e.comment.author||"")||""})}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value})}},{key:"handleAuthorChange",value:function(e){this.setState({author:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this.props,a=t.dispatch,n=t.edititngComment,o=t.comment,i=t.selectedPost;e.preventDefault();var r=x()(e.target,{hash:!0});r.timestamp=(new Date).getTime(),n?a(function(e,t){return function(a){a(f.editComment(e,t)),h.a.put(g.READABLE_STARTER+"/comments/"+e,t,J).catch(function(e){alert("There was an error on editComment, the data is inconsistent, refresh and try again. "+e)})}}(o.id,r)):(r.id=ae(),r.parentId=i.id,a(function(e){return e.author||(e.author="anonymous"),function(t){h.a.post(g.READABLE_STARTER+"/comments",e,J).then(function(e){t(f.addComment(e.data))}).catch(function(e){alert("There was an error on newComment, the data is inconsistent, refresh and try again. "+e)})}}(r))),this.clearForm()}},{key:"clearForm",value:function(){var e=this.props.cancelCommentEdit;this.setState({body:"",author:""}),e()}},{key:"render",value:function(){var e=this,t=this.props.edititngComment,a=this.state,n=a.body,i=a.author,r=U.a.isEmpty(n)||U.a.isEmpty(i);return o.a.createElement("div",{id:"comment-form"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"create-comment"},o.a.createElement("textarea",{type:"text",name:"body",placeholder:"Comment body",value:n,onChange:function(t){return e.handleBodyChange(t)}}),o.a.createElement("input",{className:"author",disabled:t,type:"text",name:"author",placeholder:"Author",value:i,onChange:function(t){return e.handleAuthorChange(t)}}),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",disabled:r},"Submit comment"),"\xa0",o.a.createElement("button",{type:"button",onClick:this.clearForm},"Cancel"))))}}]),t}(n.Component),oe=Object(C.b)(function(e){return{selectedPost:e.posts.selectedPost||{}}})(ne),ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).vote=function(e,t){var n=a.props.dispatch;n(B(e,t)),n(f.voteSelectedPost(t))},a.postDate=function(e){return D()(e).format("YY/MM/DD HH:mm:ss")},a.deletePost=function(e){(0,a.props.dispatch)(function(e){return function(t){t(f.deletePost(e)),h.a.delete(g.READABLE_STARTER+"/posts/"+e,R).catch(function(e){alert("There was an error on delete a post, the data is inconsistent, refresh and try again. "+e)})}}(e))},a.editPost=function(){a.setState({editing:!0})},a.cancelEdit=function(){a.setState({editing:!1})},a.setEditComment=function(e){a.setState({commentBeingEdited:e,edititngComment:!0})},a.cancelCommentEdit=function(){a.setState({commentBeingEdited:null,edititngComment:!1})},a.deleteComment=function(e){(0,a.props.dispatch)(function(e){return function(t){t(f.deleteComment(e)),h.a.delete(g.READABLE_STARTER+"/comments/"+e.id,J).catch(function(e){alert("There was an error on delete a comment, the data is inconsistent, refresh and try again. "+e)})}}(e))},a.state={editing:!1,hideComment:!1,labelHideComment:"Hide Comments",commentBeingEdited:{},edititngComment:!1},a.toggleComments=a.toggleComments.bind(Object(I.a)(Object(I.a)(a))),a.setEditComment=a.setEditComment.bind(Object(I.a)(Object(I.a)(a))),a.commentVote=a.commentVote.bind(Object(I.a)(Object(I.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this.props.match.params.post_id,n=this.props.dispatch;n((e=a,function(t){t(f.requestData()),h.a.get(g.READABLE_STARTER+"/posts/"+e,R).then(function(e){t(f.selectPost(e.data))}).catch(function(e){alert("There was an error on selectPost a post, the data is inconsistent, refresh and try again. "+e)})})),n((t=a,function(e){e(f.requestData()),h.a.get(g.READABLE_STARTER+"/posts/"+t+"/comments",J).then(function(t){e(f.getComments(t.data)),e(f.dataReceived())}).catch(function(e){alert("There was an error on getComments, the data is inconsistent, refresh and try again. "+e)})}))}},{key:"toggleComments",value:function(){this.setState(function(e){return{hideComment:!e.hideComment,labelHideComment:!0===!e.hideComment?"Show Comments":"Hide Comments"}})}},{key:"commentVote",value:function(e,t){(0,this.props.dispatch)(function(e,t){return function(a){return a(f[t](e)),h.a.post(g.READABLE_STARTER+"/comments/"+e,{option:t},J).catch(function(e){return alert("There was an error, the data is inconsistent, refresh the page and try again. "+e)})}}(e,t))}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,n=t.post,i=t.comments,r=this.state,c=r.hideComment,s=r.labelHideComment,l=r.commentBeingEdited,m=r.edititngComment;return this.state.editing?o.a.createElement(Y,{post:n,showModal:!0,editing:!0,cancelEdit:this.cancelEdit}):n.id||a?!0===a?o.a.createElement(A,null):o.a.createElement("div",{className:"container"},o.a.createElement("div",null,o.a.createElement("div",{id:"post",className:n.voteScore>2?Z.a.green:n.voteScore>=0&&n.voteScore<=2?Z.a.yellow:Z.a.red},o.a.createElement("div",{className:"votes"},o.a.createElement("div",{className:"upvote",onClick:function(){return e.vote(n.id,"upVote")}}),o.a.createElement("div",{className:"number-of-votes"},n.voteScore),o.a.createElement("div",{className:"downvote",onClick:function(){return e.vote(n.id,"downVote")}})),o.a.createElement("header",null,o.a.createElement("h2",null,n.title),o.a.createElement("img",{src:"https://cdn1.iconfinder.com/data/icons/flat-business-icons/128/user-64.png",alt:""}),o.a.createElement("p",null,o.a.createElement("a",{href:"#",className:"name"},n.author),"\xa0wrote a post to the category \xa0",o.a.createElement("a",{href:"#"},n.category),".",o.a.createElement("span",null,this.postDate(n.timestamp))),o.a.createElement("div",{className:"option"},o.a.createElement("ul",null,o.a.createElement("li",{key:"edit",onClick:function(){e.editPost()}},o.a.createElement("a",{href:"#edit"},"Edit")),o.a.createElement("li",{key:"delete",onClick:function(){return e.deletePost(n.id)}},o.a.createElement("a",{href:"#delete"},"Delete"))))),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,n.body),o.a.createElement("div",{id:"social"},o.a.createElement("div",{className:"post-comments"},n.commentCount))),o.a.createElement("div",{className:"hide-comments"},o.a.createElement("input",{type:"checkbox",value:"",id:"hide-button",name:"check"}),o.a.createElement("label",{className:"button",onClick:this.toggleComments},s)),o.a.createElement("div",{className:"comments"},o.a.createElement(oe,{comment:l,edititngComment:m,cancelCommentEdit:this.cancelCommentEdit}),o.a.createElement("ul",null,!c&&o.a.createElement(_,{items:i,type:"comment",vote:this.commentVote,color:W,editComment:this.setEditComment,onDeleteComment:this.deleteComment})))))):o.a.createElement("div",{className:"not-found"},o.a.createElement("h1",null,"404"),o.a.createElement("h2",null,"Item Not Found"),o.a.createElement("p",null,"Sorry, I couldn't find the post you were looking for."))}}]),t}(n.Component),re=Object(C.b)(function(e){return{isLoading:e.loading.isLoading,post:e.posts.selectedPost||{},comments:e.comment.items||[]}})(ie),ce=a(295),se=(a(291),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(j.a,{to:"//github.com/guilhermemalfatti",className:"float-github"},o.a.createElement("i",{className:"fa fa-github"})),o.a.createElement(j.a,{to:"//www.linkedin.com/in/guilherme-malfatti-b2683966",className:"float-linkedin"},o.a.createElement("i",{className:"fa fa-linkedin"})),o.a.createElement(j.a,{to:"/p2-reads/",className:"float-home"},o.a.createElement("i",{className:"fa fa-home"})),o.a.createElement(ce.a,{path:"/p2-reads/:category",component:T}),o.a.createElement(ce.a,{exact:!0,path:"/p2-reads/",component:T}),o.a.createElement(ce.a,{path:"/p2-reads/:category/:post_id",component:re}),o.a.createElement(ce.a,{exact:!0,path:"/",component:G}),o.a.createElement(ce.a,{exact:!0,path:"/p2-reads/:category",component:G}))}}]),t}(n.Component)),le=a(296),me=a(22),ue=a(3),de=a(2),he={items:[]},pe=(Q={},Object(ue.a)(Q,v.GET_COMMENTS,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:t.comments})}),Object(ue.a)(Q,v.ADD_COMMENT,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.concat(t.comment)})}),Object(ue.a)(Q,v.EDIT_COMMENT,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.commentId&&(e.body=t.values.body,e.timestamp=t.values.timestamp),e})})}),Object(ue.a)(Q,v.DELETE_COMMENT,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.filter(function(e){return e.id!==t.comment.id})})}),Object(ue.a)(Q,v.DOWN_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.id&&(e.voteScore-=1),e})})}),Object(ue.a)(Q,v.UP_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.id&&(e.voteScore+=1),e})})}),Q),Ee=Object(p.createReducer)(he,pe),ve={isLoading:!0},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;arguments.length>1&&arguments[1];return Object(de.a)({},e,{isLoading:!1})},ge=($={},Object(ue.a)($,v.INITIAL_DATA,fe),Object(ue.a)($,v.REQUEST_DATA,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;arguments.length>1&&arguments[1];return Object(de.a)({},e,{isLoading:!0})}),Object(ue.a)($,v.SELECT_POST,fe),Object(ue.a)($,v.DATA_RECEIVED,fe),$),be=Object(p.createReducer)(ve,ge),Oe={items:[],selectedCategory:"all"},ye=(ee={},Object(ue.a)(ee,v.RECEIVE_CATEGORIES,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:t.categories})}),Object(ue.a)(ee,v.SELECT_CATEGORY,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{selectedCategory:t.category})}),ee),Ce=Object(p.createReducer)(Oe,ye),je={items:[],originalList:[],selectedPost:null},Se=(te={},Object(ue.a)(te,v.ADD_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.concat(t.post),originalList:e.originalList.concat(t.post)})}),Object(ue.a)(te,v.INITIAL_DATA,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:t.filter?t.posts.filter(function(e){return e.category===t.filter}):t.posts,originalList:t.posts})}),Object(ue.a)(te,v.DOWN_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.id&&(e.voteScore-=1),e})})}),Object(ue.a)(te,v.UP_VOTE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.id&&(e.voteScore+=1),e})})}),Object(ue.a)(te,v.SORT_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;return"Date"===(arguments.length>1?arguments[1]:void 0).term?Object(de.a)({},e,{items:[].concat(e.items).sort(function(e,t){return e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:0})}):Object(de.a)({},e,{items:[].concat(e.items).sort(function(e,t){return e.voteScore<t.voteScore?1:e.voteScore>t.voteScore?-1:0})})}),Object(ue.a)(te,v.UPDATE_LIST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:t.posts})}),Object(ue.a)(te,v.SELECT_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{selectedPost:t.post})}),Object(ue.a)(te,v.VOTE_SELECTED_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{selectedPost:Object(de.a)({},e.selectedPost,{voteScore:"upVote"===t.vote?e.selectedPost.voteScore+1:e.selectedPost.voteScore-1})})}),Object(ue.a)(te,v.DELETE_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.filter(function(e){return e.id!==t.postId}),originalList:e.originalList.filter(function(e){return e.id!==t.postId}),selectedPost:null})}),Object(ue.a)(te,v.EDIT_POST,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.id&&(e.title=t.values.title,e.body=t.values.body),e}),originalList:e.originalList.map(function(e){return e.id===t.id&&(e.title=t.values.title,e.body=t.values.body),e}),selectedPost:Object(de.a)({},e.selectedPost,{title:t.values.title,body:t.values.body})})}),Object(ue.a)(te,v.ADD_COMMENT,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.comment.parentId&&(e.commentCount+=1),e}),selectedPost:Object(de.a)({},e.selectedPost,{commentCount:e.selectedPost.commentCount+1})})}),Object(ue.a)(te,v.DELETE_COMMENT,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return Object(de.a)({},e,{items:e.items.map(function(e){return e.id===t.comment.parentId&&(e.commentCount-=1),e}),selectedPost:Object(de.a)({},e.selectedPost,{commentCount:e.selectedPost.commentCount-1})})}),te),Te=Object(p.createReducer)(je,Se),Ae=Object(me.c)({categories:Ce,comment:Ee,loading:be,posts:Te}),Ne=a(113),De=a(114),we=a.n(De),ke=Object(me.a)(Ne.a,we.a),Pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,_e=Object(me.e)(Ae,Pe(ke));r.a.render(o.a.createElement(C.a,{store:_e},o.a.createElement(le.a,{basename:"/p2-reads"},o.a.createElement(se,null))),document.getElementById("root"))},53:function(e,t,a){e.exports={red:"_17yig069KFr3Y3la0Xipj5",yellow:"_1ASXIa_rTZ_2tCLCsuUA0E",green:"_5tDM9AFoC5o3Ht-SYWg8L"}},54:function(e,t,a){e.exports={red:"nD2A4coNMt7vIA6VOHfX_",yellow:"_1eKtZhKiBA0nXeZQagowp_",green:"_1NP4-WdwsVj4aS71LxX1qN"}}},[[116,2,1]]]);
//# sourceMappingURL=main.2d7ae136.chunk.js.map